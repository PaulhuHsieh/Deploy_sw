#!/bin/bash
tcpdump -i eth1 "port $1" > gb$1.txt 2> $1.txt &
declare -i pid1=$!
tcpdump -i eth1 "port $2" > gb$2.txt 2> $2.txt &
declare -i pid2=$!
tcpdump -i eth1 "port $3" > gb$3.txt 2> $3.txt &
declare -i pid3=$!
tcpdump -i eth1 "port $4" > gb$4.txt 2> $4.txt &
declare -i pid4=$!
tcpdump -i eth1 "port $5" > gb$5.txt 2> $5.txt &
declare -i pid5=$!
tcpdump -i eth1 "port $6" > gb$6.txt 2> $6.txt &
declare -i pid6=$!
tcpdump -i eth1 "port $7" > gb$7.txt 2> $7.txt &
declare -i pid7=$!
tcpdump -i eth1 "port $8" > gb$8.txt 2> $8.txt &
declare -i pid8=$!
tcpdump -i eth1 "port $9" > gb$9.txt 2> $9.txt &
declare -i pid9=$!
tcpdump -i eth1 "port $10" > gb$10.txt 2> $10.txt &
declare -i pid10=$!
tcpdump -i eth1 "port $11" > gb$11.txt 2> $11.txt &
declare -i pid11=$!
tcpdump -i eth1 "port $12" > gb$12.txt 2> $12.txt &
declare -i pid12=$!
tcpdump -i eth1 "port $13" > gb$13.txt 2> $13.txt &
declare -i pid13=$!
tcpdump -i eth1 "port $14" > gb$14.txt 2> $14.txt &
declare -i pid14=$!
tcpdump -i eth1 "port $15" > gb$15.txt 2> $15.txt &
declare -i pid15=$!
tcpdump -i eth1 "port $16" > gb$16.txt 2> $16.txt &
declare -i pid16=$!
tcpdump -i eth1 "port $17" > gb$17.txt 2> $17.txt &
declare -i pid17=$!
tcpdump -i eth1 "port $18" > gb$18.txt 2> $18.txt &
declare -i pid18=$!
tcpdump -i eth1 "port $19" > gb$19.txt 2> $19.txt &
declare -i pid19=$!

sleep 1

kill $pid1
kill $pid2
kill $pid3
kill $pid4
kill $pid5
kill $pid6
kill $pid7
kill $pid8
kill $pid9
kill $pid10
kill $pid11
kill $pid12
kill $pid13
kill $pid14
kill $pid15
kill $pid16
kill $pid17
kill $pid18
kill $pid19
